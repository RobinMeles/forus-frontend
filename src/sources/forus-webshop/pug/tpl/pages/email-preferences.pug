top-navbar
section.section.section-voucher-details: .wrapper
    .block.block-breadcrumbs.hide-sm
        a(ui-sref="home").breadcrumb-item Home
        .breadcrumb-item.active Notification settings

    .section-title Notification settings

    section(ng-class="!!$root.activeOrganization ? 'app app-content' : ''")
        p(ng-if="$ctrl.message" ng-bind="$ctrl.message | translate").form-error
        
        .card(ng-if="$ctrl.email_unsubscribed")
            .card-header: .card-title(translate="notification_preferences.title_preferences")
            .card-section
                .card-heading 
                    | Your email `{{ $ctrl.email }}` is currently unsubscribed from all notifications.
                    br
                    | Do you want to enable notifications and configure which emails you actually want to receive?
                div: button(type="button" ng-click="$ctrl.enableSubscription()").button.button-primary 
                    | Yes, i want to receive notification

        .card(ng-if="!$ctrl.email_unsubscribed")
            .card-header: .card-title(translate="notification_preferences.title_preferences")
            .card-section
                .card-heading I want to unsubscribe from all email notifications.
                div: button(type="button" ng-click="$ctrl.disableSubscription()").button.button-primary 
                    | Unsubscribe

        form.card(ng-if="!$ctrl.email_unsubscribed" ng-submit="$ctrl.form.submit()")
            .card-header: .card-title(translate="notification_preferences.title_preferences")
            .form.block.block-preferences(ng-if="!$ctrl.email_unsubscribed"): label(
                ng-repeat="type in $ctrl.form.values" 
                for="option_{{ type.key }}").preference-option
                .preference-option-details
                    .card-heading.card-heading-padless(translate="{{ 'notification_preferences.types.' + type.key + '.title' }}")
                    .card-text(translate="{{ 'notification_preferences.types.' + type.key + '.description' }}")
                .preference-option-input: .form-toggle
                    input(
                        type="checkbox" 
                        id="option_{{ type.key }}" 
                        ng-checked="type.subscribed" 
                        ng-model="type.subscribed")
                    .form-toggle-inner.flex-end: .toggle-input: .toggle-input-dot
                        em.mdi.mdi-check-bold(ng-if="type.subscribed")
                        .icon-disabled(ng-if="!type.subscribed")
                        
            .card-section
                div.push-right
                    button.button.button-primary(type="submit") Verzenden


contact-form 
