.app.app-container(ng-if="$ctrl.loaded")
    menu(ng-if="!!$root.activeOrganization")

    section(ng-class="!!$root.activeOrganization ? 'app app-content' : 'wrapper wrapper-sm'")
        .card
            .card-header: .card-title Email settings
            .card-section.card-section-padless
                .block.block-user_emails
                    .user_email-item(ng-repeat="email in $ctrl.emails")
                        .user_email-icon: em.mdi.mdi-email-outline(ng-class="{'text-primary':email.primary}")
                        .user_email-details
                            .user_email-address(ng-bind="email.email")
                            
                            .user_email-options(ng-if="email.primary")
                                .user_email-option Can be used to log in
                                .user_email-option Will receive notifications
                        
                            .button.button-default(ng-disabled="email.disabled" ng-if="!email.primary && email.verified" ng-click="$ctrl.makePrimary(email)")
                                em.mdi.mdi-check-circle.icon-start
                                | Make primary

                            .button.button-default(ng-disabled="email.disabled" ng-if="!email.primary && !email.verified" ng-click="$ctrl.resendVerification(email)")
                                em.mdi.mdi-reload.icon-start
                                | Resend verification email
                        
                        .user_email-actions
                            label(ng-if="email.primary").label.label-success.label-round.label-lg.pull-left Primary
                            label(ng-if="!email.verified && !email.primary").label.label-default.label-round.label-lg.pull-left Not verified

                            button(ng-disabled="email.disabled" ng-if="!email.primary" ng-click="$ctrl.deleteEmail(email)").button.button-default.button-icon: em.mdi.mdi-trash-can-outline
        
            
            .card-section.card-section-primary(ng-if="!$ctrl.form")
                .button.button-primary(ng-click="$ctrl.createNewEmailForm()") 
                    em.mdi.mdi-plus-circle.icon-start
                    | E-mail toevogen
            
            .card-section.card-section-primary(ng-if="$ctrl.form && !$ctrl.formSuccess")
                .card-heading Please add a new e-mail to your identity
                form(ng-submit="$ctrl.form.submit()").form.row: .col.col-lg-6.form-group
                    .form-label E-mail adres
                    .flex-row
                        .flex-col.flex-grow
                            input(type="email" placeholder="E-mail address" ng-model="$ctrl.form.values.email").form-control
                            .form-error(ng-repeat="error in $ctrl.form.errors.email" ng-bind="error")
                        .flex-col: button(type="submit").button.button-primary Toevoegen
        
            .card-section.card-section-primary(ng-if="$ctrl.form && $ctrl.formSuccess")
                .card-heading.card-heading-padless Please confirm your new email 
                .card-text Please open the e-mail we sent to your new email and confirm it in order to make it available in the system
                .button.button-primary(ng-click="$ctrl.createNewEmailForm()")  Add another email
    